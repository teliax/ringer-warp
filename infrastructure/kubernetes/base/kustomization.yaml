apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Namespaces
  - namespace.yaml
  
  # Common configurations
  - common/configmap-base.yaml
  
  # Kamailio resources
  - kamailio/configmap-kamailio.yaml
  - kamailio/deployment.yaml
  - kamailio/service.yaml
  
  # Jasmin resources
  - jasmin/configmap-jasmin.yaml
  - jasmin/deployment.yaml
  - jasmin/service.yaml
  - jasmin/rabbitmq-deployment.yaml
  
  # Consul service registrations
  - kamailio/consul-service.yaml
  - jasmin/consul-service.yaml

# Common labels for all resources
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: warp

# Common annotations
commonAnnotations:
  deployment-timestamp: "2024-01-01T00:00:00Z"